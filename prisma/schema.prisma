generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["jsonProtocol"]
}

datasource db {
    provider = "postgres"
    url      = env("DATABASE_URL")
}

model Student {
    id       String @id @default(cuid())
    photo    String
    nim      String
    name     String
    password String

    createdAt DateTime @default(now()) @map("created_at")
}

model Docent {
    id             String @id @default(cuid())
    nidn           String
    name           String
    profilePicture String @map("profile_picture")
    phone          String
    email          String

    subjects Subject[]
}

enum LectureType {
    resource
    assignment
    url
    quiz
    forum
    page
    unknown
}

model Lecture {
    id       String      @id @default(cuid())
    name     String
    url      String
    type     LectureType @default(unknown)
    deadline DateTime

    meeting   Meeting @relation(fields: [meetingId], references: [id])
    meetingId String  @map("meeting_id")
}

model Subject {
    id    String @id @default(cuid())
    title String

    docent   Docent @relation(fields: [docentId], references: [id])
    docentId String @map("docent_id")
}

model Meeting {
    id       String    @id @default(cuid())
    subject  String
    title    String
    lectures Lecture[]
}
